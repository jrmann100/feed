var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function r(t){let e;return l(t,(t=>e=t))(),e}function a(t,e,n){t.$$.on_destroy.push(l(e,n))}function c(t,e,n=e){return t.set(n),e}function u(e){return e&&o(e.destroy)?e.destroy:t}function g(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t){return""===t?null:+t}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function x(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function S(t,e,n){t.classList[n?"add":"remove"](e)}let I;function T(t){I=t}function C(t){(function(){if(!I)throw new Error("Function called outside component initialization");return I})().$$.on_mount.push(t)}const E=[],D=[],_=[],q=[],L=Promise.resolve();let P=!1;function N(t){_.push(t)}function U(t){q.push(t)}let B=!1;const R=new Set;function V(){if(!B){B=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];T(e),j(e.$$)}for(T(null),E.length=0;D.length;)D.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];R.has(e)||(R.add(e),e())}_.length=0}while(E.length);for(;q.length;)q.pop()();P=!1,B=!1,R.clear()}}function j(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const F=new Set;let O;function M(t,e){t&&t.i&&(F.delete(t),t.i(e))}function H(t,e,n,s){if(t&&t.o){if(F.has(t))return;F.add(t),O.c.push((()=>{F.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const G="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function z(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function J(t){t&&t.c()}function W(t,n,i){const{fragment:l,on_mount:r,on_destroy:a,after_update:c}=t.$$;l&&l.m(n,i),N((()=>{const n=r.map(e).filter(o);a?a.push(...n):s(n),t.$$.on_mount=[]})),c.forEach(N)}function X(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(E.push(t),P||(P=!0,L.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,o,i,l,r,a,c=[-1]){const u=I;T(e);const g=o.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=i?i(e,g,((t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&K(e,t)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!l&&l(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();o.intro&&M(e.$$.fragment),W(e,o.target,o.anchor),V()}T(u)}class Y{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z=[];function tt(e,n=t){let s;const o=[];function l(t){if(i(e,t)&&(e=t,s)){const t=!Z.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Z.push(n,e)}if(t){for(let t=0;t<Z.length;t+=2)Z[t][0](Z[t+1]);Z.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,r=t){const a=[i,r];return o.push(a),1===o.length&&(s=n(l)||t),i(e),()=>{const t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}const et="Signed out",nt=tt(localStorage.getItem("profileName")||et),st=tt(localStorage.getItem("profileIcon")),ot=tt(JSON.parse(localStorage.getItem("profileBookmarks")||"[]")),it=tt(localStorage.getItem("profileCanvasURL")||""),lt=tt(localStorage.getItem("profilePreferredGoogleUser")||"0");nt.subscribe((t=>localStorage.setItem("profileName",t))),st.subscribe((t=>localStorage.setItem("profileIcon",t))),ot.subscribe((t=>localStorage.setItem("profileBookmarks",JSON.stringify(t)))),it.subscribe((t=>localStorage.setItem("profileCanvasURL",t))),lt.subscribe((t=>localStorage.setItem("profilePreferredGoogleUser",t)));const rt=function(e,n,i){const r=!Array.isArray(e),a=r?[e]:e,c=n.length<2;return{subscribe:tt(i,(e=>{let i=!1;const u=[];let g=0,f=t;const m=()=>{if(g)return;f();const s=n(r?u[0]:u,e);c?e(s):f=o(s)?s:t},p=a.map(((t,e)=>l(t,(t=>{u[e]=t,g&=~(1<<e),i&&m()}),(()=>{g|=1<<e}))));return i=!0,m(),function(){s(p),f()}})).subscribe}}(ot,(t=>[].concat(...t.map(((t,e)=>t.aliases.map((t=>[t,e]))))).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e[0]]:e[1]})),{}))),at=tt([]);class ct{constructor(t,e,n,s,o,i=-1){this.completed=-1,this.name=t,this.className=e,this.description=n||"No description available.",this.url=s,this.date=o,this.completed=i;let l=((t,e)=>{let n=0,s=t.length-1;for(;n<=s;){let o=Math.floor((n+s)/2);if(t[o]<e)n=o+1;else{if(!(t[o]>e))return o;s=o-1}}return n})(r(at).map((t=>t.date.getTime())),this.date.getTime());at.set([...r(at).slice(0,l),this,...r(at).slice(l)])}}const ut=(t=mt.auth2.getAuthInstance().isSignedIn.get())=>{if(t){let t=mt.auth2.getAuthInstance().currentUser.get().getBasicProfile();t.getName()!=r(nt)&&(nt.set(t.getName()),st.set(t.getImageUrl()))}else nt.set(et),st.set("https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg");dt()},gt=async()=>{const t=window.ICAL,e=await fetch(new Request("https://cors-anywhere.herokuapp.com/"+(t=>t.hostname+t.pathname).call(void 0,new URL(r(it))),{mode:"cors"}));if(!e.ok)return void console.error("HTTP error fetching calendar! status: "+e.status);const n=await e.text();let s=new t.Component(t.parse(n)).getAllSubcomponents("vevent");console.log(`Loaded ${s.length} Canvas assignments: `,s.map((t=>(t.getFirstPropertyValue("summary").match(/.+?(?= \()/)||t.getFirstPropertyValue("summary").match(/.+?(?= \[)/))[0])));s.filter((t=>(new Date).getTime()<=t.getFirstPropertyValue("dtstart").toJSDate().getTime())).forEach((t=>{new ct((t.getFirstPropertyValue("summary").match(/.+?(?= \()/)||t.getFirstPropertyValue("summary").match(/.+?(?= \[)/))[0],t.getFirstPropertyValue("summary").match(/\[([^\]]+)\]/)[1],"",(t=>{const e=new URL(t);return e.origin+"/courses/"+e.searchParams.get("include_contexts").replace("course_","")+"/assignments/"+e.hash.replace("#assignment_","")})(t.getFirstPropertyValue("url")),t.getFirstPropertyValue("dtstart").toJSDate(),(new Date).getTime()>t.getFirstPropertyValue("dtstart").toJSDate().getTime()?1:-1)}))},ft=t=>new Promise(((e,n)=>{let s=document.createElement("script");s.src=t,s.onload=e,s.onerror=n,document.head.appendChild(s)}));let mt;const pt=async()=>{await Promise.all([ft("https://unpkg.com/ical.js@1.4.0/build/ical.js"),ft("https://apis.google.com/js/api:client.js")]),mt=window.gapi,await mt.load("auth2",(()=>mt.client.init({clientId:"254795124493-hqrmlh9oqs85knd24o98c3644hmiqoc3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"],scope:["profile","https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.coursework.me.readonly"].join(" ")}).then((()=>ut()))))},dt=()=>{console.log("Loading assignments."),at.set([]),mt.auth2.getAuthInstance().isSignedIn.get()&&(async()=>{const t=(await mt.client.classroom.courses.list()).result.courses.filter((t=>"ARCHIVED"!=t.courseState)),e=(await Promise.all(t.map((async t=>(await mt.client.classroom.courses.courseWork.list({courseId:t.id})).result.courseWork)))).filter((t=>null!=t)),n=[].concat(...e);let s=await Promise.all(n.map((async t=>({assignment:t,submission:(await mt.client.classroom.courses.courseWork.studentSubmissions.list({courseId:t.courseId,courseWorkId:t.id})).result.studentSubmissions[0]}))));s.filter((t=>"CREATED"==t.submission.state)).forEach((e=>new ct(e.assignment.title,t.find((t=>t.id==e.assignment.courseId)).name,e.assignment.description,e.assignment.alternateLink.replace("classroom.google.com/","classroom.google.com/u/"+r(lt)+"/"),e.assignment.dueDate?new Date(Date.UTC(e.assignment.dueDate.year,e.assignment.dueDate.month-1,e.assignment.dueDate.day,e.assignment.dueTime.hours,e.assignment.dueTime.minutes||0)):new Date,"CREATED"!=e.submission.state?1:0))),console.log(`Loaded ${s.length} Google Classroom assignments from ${t.length} courses: `,s.map((t=>t.assignment.title)))})(),r(it)&&gt()};function ht(e){let n,o,i,l;return{c(){n=d("input"),b(n,"type","text"),b(n,"placeholder",o=e[1]||'Enter a command (press "/" to focus)'),b(n,"class","svelte-n62hyp"),S(n,"error",""!=e[1])},m(t,s){f(t,n,s),e[6](n),A(n,e[0]),i||(l=[$(n,"input",e[7]),$(n,"keydown",e[3])],i=!0)},p(t,[e]){2&e&&o!==(o=t[1]||'Enter a command (press "/" to focus)')&&b(n,"placeholder",o),1&e&&n.value!==t[0]&&A(n,t[0]),2&e&&S(n,"error",""!=t[1])},i:t,o:t,d(t){t&&m(n),e[6](null),i=!1,s(l)}}}function yt(t,e,n){let s,o,i;a(t,rt,(t=>n(8,s=t))),a(t,ot,(t=>n(9,o=t)));let l,r="";const c=t=>{l&&(n(1,r=t),setTimeout((()=>n(1,r="")),3e3))};return[i,r,l,t=>{if("Enter"==t.key){t.preventDefault();let e=i.toLowerCase().split(" ");if(n(0,i=""),!e[0]||!e[1])return void c("Enter a command in the format [link] [alias].");if(Object.keys(s).includes(e[1])){let t=o[s[e[1]]].links.map((t=>t.name)).indexOf(e[0]);-1!=t?window.open(o[s[e[1]]].links[t].url):c(`No link ${e[0]} for alias ${e[1]}.`)}else c(`No alias match for ${e[1]}.`)}},c,t=>{l&&l.focus()},function(t){D[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},function(){i=this.value,n(0,i)}]}class vt extends Y{constructor(t){super(),Q(this,t,yt,ht,i,{showError:4,focus:5})}get showError(){return this.$$.ctx[4]}get focus(){return this.$$.ctx[5]}}function $t(e){let n,s,o,i,l,r,a,c,u,p;return{c(){n=d("div"),s=d("div"),o=y(e[0]),i=v(),l=h("svg"),r=h("path"),a=h("path"),c=v(),u=d("div"),p=y(e[2]),b(s,"class","time svelte-113ieq"),b(r,"d","M0,0 H10"),b(r,"class","svelte-113ieq"),b(a,"d","M0,0 H10"),x(a,"--progress-offset",10-10*e[1]),b(a,"class","svelte-113ieq"),b(l,"class","progress svelte-113ieq"),b(l,"viewBox","0 0 10 0.5"),b(u,"class","date svelte-113ieq"),b(n,"class","time-module svelte-113ieq")},m(t,e){f(t,n,e),g(n,s),g(s,o),g(n,i),g(n,l),g(l,r),g(l,a),g(n,c),g(n,u),g(u,p)},p(t,[e]){1&e&&k(o,t[0]),2&e&&x(a,"--progress-offset",10-10*t[1]),4&e&&k(p,t[2])},i:t,o:t,d(t){t&&m(n)}}}function bt(t,e,n){let s,o,i,l=new Date;return C((()=>{const t=setInterval((()=>{n(3,l=new Date)}),1e3);return()=>{clearInterval(t)}})),t.$$.update=()=>{8&t.$$.dirty&&n(0,s=(12==l.getHours()?12:l.getHours()%12).toString().padStart(2,"0")+l.getMinutes().toString().padStart(2,"0")),8&t.$$.dirty&&n(1,o=l.getMinutes()/60),8&t.$$.dirty&&n(2,i=(l.getMonth()+1).toString().padStart(2,"0")+l.getDate().toString().padStart(2,"0"))},[s,o,i]}class wt extends Y{constructor(t){super(),Q(this,t,bt,$t,i,{})}}const{document:kt}=G;function At(t,e,n){const s=t.slice();return s[30]=e[n],s[31]=e,s[32]=n,s}function xt(t,e,n){const s=t.slice();return s[33]=e[n],s[34]=e,s[35]=n,s}function St(t,e,n){const s=t.slice();return s[27]=e[n],s[28]=e,s[29]=n,s}function It(t){let e,n,o,i,l;function r(){t[15].call(e,t[34],t[35])}function a(...e){return t[16](t[27],t[28],t[29],...e)}function c(...e){return t[17](t[27],t[35],t[28],t[29],...e)}return{c(){e=d("input"),o=d("input"),b(e,"class","alias-text svelte-i78tgy"),b(e,"size","8"),b(e,"placeholder","Fill out alias."),b(e,"type","text"),e.required=!0,b(o,"class","alias-del svelte-i78tgy"),b(o,"type","button"),o.value="✖"},m(s,g){f(s,e,g),A(e,t[33]),f(s,o,g),i||(l=[u(n=t[9].call(null,e)),$(e,"input",r),$(e,"change",a),$(o,"click",c)],i=!0)},p(n,s){t=n,128&s[0]&&e.value!==t[33]&&A(e,t[33])},d(t){t&&m(e),t&&m(o),i=!1,s(l)}}}function Tt(t){let e,n,o,i,l,r,a;function c(){t[19].call(e,t[31],t[32])}function g(...e){return t[20](t[27],t[28],t[29],...e)}function p(){t[21].call(o,t[31],t[32])}function h(...e){return t[22](t[27],t[28],t[29],...e)}function y(...e){return t[23](t[27],t[32],t[28],t[29],...e)}return{c(){e=d("input"),n=v(),o=d("input"),l=d("input"),b(e,"class","link-name svelte-i78tgy"),b(e,"size","8"),b(e,"placeholder","Fill out this link name."),b(e,"type","text"),e.required=!0,b(o,"class","link-url svelte-i78tgy"),b(o,"size","16"),b(o,"placeholder","Fill out this link URL."),b(o,"type","url"),o.required=!0,b(l,"class","link-del svelte-i78tgy"),b(l,"type","button"),l.value="✖"},m(s,m){f(s,e,m),A(e,t[30].name),f(s,n,m),f(s,o,m),A(o,t[30].url),f(s,l,m),r||(a=[$(e,"input",c),$(e,"change",g),u(i=t[9].call(null,o)),$(o,"input",p),$(o,"change",h),$(l,"click",y)],r=!0)},p(n,s){t=n,128&s[0]&&e.value!==t[30].name&&A(e,t[30].name),128&s[0]&&A(o,t[30].url)},d(t){t&&m(e),t&&m(n),t&&m(o),t&&m(l),r=!1,s(a)}}}function Ct(t){let e,n,o,i,l,r,a,c,u,h,w,k,A,x,S,I,T,C,E,D,_,q,L,P,N="Bookmark "+(t[29]+1),U=t[27].aliases,B=[];for(let e=0;e<U.length;e+=1)B[e]=It(xt(t,U,e));function R(...e){return t[18](t[27],t[28],t[29],...e)}let V=t[27].links,j=[];for(let e=0;e<V.length;e+=1)j[e]=Tt(At(t,V,e));function F(...e){return t[24](t[27],t[28],t[29],...e)}function O(...e){return t[25](t[29],...e)}return{c(){e=d("hr"),n=v(),o=d("h1"),i=y(N),l=v(),r=d("form"),a=d("h2"),a.textContent="Aliases",c=v();for(let t=0;t<B.length;t+=1)B[t].c();u=v(),h=d("input"),w=v(),k=d("h2"),k.textContent="Links",A=v();for(let t=0;t<j.length;t+=1)j[t].c();x=v(),S=d("input"),I=v(),T=d("input"),C=v(),E=d("input"),D=v(),_=d("input"),q=v(),b(e,"class","svelte-i78tgy"),b(o,"class","bookmark-title svelte-i78tgy"),b(a,"class","svelte-i78tgy"),b(h,"class","alias-add svelte-i78tgy"),b(h,"type","button"),h.value="Add Alias",b(k,"class","svelte-i78tgy"),b(S,"class","link-add svelte-i78tgy"),b(S,"type","button"),S.value="Add Link",b(T,"type","submit"),T.value="Validate",b(T,"class","svelte-i78tgy"),b(E,"class","bookmark-del svelte-i78tgy"),b(E,"type","button"),E.value="Delete Bookmark",b(_,"type","submit"),_.value="Validate",b(_,"class","svelte-i78tgy"),b(r,"class","bookmark-form svelte-i78tgy"),b(r,"action","#")},m(t,s){f(t,e,s),f(t,n,s),f(t,o,s),g(o,i),f(t,l,s),f(t,r,s),g(r,a),g(r,c);for(let t=0;t<B.length;t+=1)B[t].m(r,null);g(r,u),g(r,h),g(r,w),g(r,k),g(r,A);for(let t=0;t<j.length;t+=1)j[t].m(r,null);g(r,x),g(r,S),g(r,I),g(r,T),g(r,C),g(r,E),g(r,D),g(r,_),g(r,q),L||(P=[$(h,"click",R),$(S,"click",F),$(E,"click",O)],L=!0)},p(e,n){if(t=e,384&n[0]){let e;for(U=t[27].aliases,e=0;e<U.length;e+=1){const s=xt(t,U,e);B[e]?B[e].p(s,n):(B[e]=It(s),B[e].c(),B[e].m(r,u))}for(;e<B.length;e+=1)B[e].d(1);B.length=U.length}if(128&n[0]){let e;for(V=t[27].links,e=0;e<V.length;e+=1){const s=At(t,V,e);j[e]?j[e].p(s,n):(j[e]=Tt(s),j[e].c(),j[e].m(r,x))}for(;e<j.length;e+=1)j[e].d(1);j.length=V.length}},d(t){t&&m(e),t&&m(n),t&&m(o),t&&m(l),t&&m(r),p(B,t),p(j,t),L=!1,s(P)}}}function Et(e){let n,o,i,l,r,a,c,u,h,y,k,x,I,T,C,E,D,_,q,L,P,N,U,B,R,V,j,F,O,M=e[7],H=[];for(let t=0;t<M.length;t+=1)H[t]=Ct(St(e,M,t));return{c(){n=v(),o=d("div"),i=d("h1"),i.textContent="Accounts",l=v(),r=d("h2"),r.textContent="Canvas Calendar URL",a=v(),c=d("input"),u=v(),h=d("h2"),h.textContent="Google OAuth",y=v(),k=d("input"),I=v(),T=d("br"),C=v(),E=d("label"),E.innerHTML="If you&#39;re signed into multiple Google accounts, this is the <pre>classroom.google.com/u/[number]/</pre> in the URL for Classroom.",D=v(),_=d("input"),q=v(),L=d("hr"),P=d("br"),N=d("br"),U=v(),B=d("h1"),B.textContent="Bookmarks",R=v(),V=d("input"),j=v();for(let t=0;t<H.length;t+=1)H[t].c();b(r,"class","svelte-i78tgy"),b(c,"type","url"),b(c,"size","30"),c.required=!0,b(c,"class","svelte-i78tgy"),b(h,"class","svelte-i78tgy"),b(k,"type","button"),k.value=x="Signed out"!=e[5]?"Sign out "+e[5]:"Sign in with Google",b(k,"class","svelte-i78tgy"),b(E,"for","preferredGoogleUser"),b(_,"id","preferredGoogleUser"),b(_,"type","number"),b(_,"class","svelte-i78tgy"),b(L,"class","svelte-i78tgy"),b(V,"type","button"),V.value="Add Bookmark",b(V,"class","svelte-i78tgy"),b(o,"class","wrapper svelte-i78tgy"),S(o,"visible",e[0])},m(t,s){f(t,n,s),f(t,o,s),g(o,i),g(o,l),g(o,r),g(o,a),g(o,c),A(c,e[4]),g(o,u),g(o,h),g(o,y),g(o,k),g(o,I),g(o,T),g(o,C),g(o,E),g(o,D),g(o,_),A(_,e[6]),g(o,q),g(o,L),g(o,P),g(o,N),g(o,U),g(o,B),g(o,R),g(o,V),g(o,j);for(let t=0;t<H.length;t+=1)H[t].m(o,null);e[26](o),F||(O=[$(kt.body,"click",e[10]),$(c,"input",e[11]),$(c,"change",dt),$(k,"click",e[12]),$(_,"input",e[13]),$(V,"click",e[14])],F=!0)},p(t,e){if(16&e[0]&&A(c,t[4]),32&e[0]&&x!==(x="Signed out"!=t[5]?"Sign out "+t[5]:"Sign in with Google")&&(k.value=x),64&e[0]&&w(_.value)!==t[6]&&A(_,t[6]),384&e[0]){let n;for(M=t[7],n=0;n<M.length;n+=1){const s=St(t,M,n);H[n]?H[n].p(s,e):(H[n]=Ct(s),H[n].c(),H[n].m(o,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=M.length}1&e[0]&&S(o,"visible",t[0])},i:t,o:t,d(t){t&&m(n),t&&m(o),p(H,t),e[26](null),F=!1,s(O)}}}function Dt(t,e,n){let s,o,i,l,r;a(t,it,(t=>n(4,s=t))),a(t,nt,(t=>n(5,o=t))),a(t,lt,(t=>n(6,i=t))),a(t,ot,(t=>n(7,l=t))),a(t,rt,(t=>n(8,r=t)));let{visible:u=!1}=e,{wrapper:g}=e,{button:f}=e,m=!1;return t.$$set=t=>{"visible"in t&&n(0,u=t.visible),"wrapper"in t&&n(1,g=t.wrapper),"button"in t&&n(2,f=t.button)},[u,g,f,m,s,o,i,l,r,t=>{m||t.focus()},t=>{setTimeout((()=>{u&&!g.contains(t.target)&&!f.contains(t.target)&&document.body.contains(t.target)&&n(0,u=!1)}),100)},function(){s=this.value,it.set(s)},()=>{(async()=>{await(mt.auth2.getAuthInstance().isSignedIn.get()?mt.auth2.getAuthInstance().signOut():mt.auth2.getAuthInstance().signIn()),ut()})()},function(){i=w(this.value),lt.set(i)},t=>{n(3,m=!0),c(ot,l=[...l,{aliases:[""],links:[{name:"",url:""}]}],l),setTimeout((()=>t.target.parentElement.scrollTo({top:t.target.parentElement.scrollHeight,behavior:"smooth"})),50),setTimeout((()=>n(3,m=!1)),50)},function(t,e){t[e]=this.value},(t,e,n,s)=>{s.target.setCustomValidity(Object.keys(r).includes(s.target.value)?"Alias must be unique.":""),c(ot,e[n]=t,l)},(t,e,n,s,o)=>{c(ot,n[s].aliases=[...t.aliases.slice(0,e),...t.aliases.slice(e+1)],l),c(ot,n[s]=t,l)},(t,e,n)=>{c(ot,e[n].aliases=[...t.aliases,""],l)},function(t,e){t[e].name=this.value},(t,e,n)=>{c(ot,e[n]=t,l)},function(t,e){t[e].url=this.value},(t,e,n)=>{c(ot,e[n]=t,l)},(t,e,n,s)=>{c(ot,n[s].links=[...t.links.slice(0,e),...t.links.slice(e+1)],l),c(ot,n[s]=t,l)},(t,e,n)=>{c(ot,e[n].links=[...t.links,{name:"",url:""}],l)},t=>c(ot,l=[...l.slice(0,t),...l.slice(t+1)],l),function(t){D[t?"unshift":"push"]((()=>{g=t,n(1,g)}))}]}class _t extends Y{constructor(t){super(),Q(this,t,Dt,Et,i,{visible:0,wrapper:1,button:2},[-1,-1])}}function qt(e){let n,s,o,i,l,r,a,c,u,p,w,A,x,I,T,C,E,D,_,q=e[0].name+"",L=e[0].className+"",P=e[0].description+"";return{c(){n=d("div"),s=d("div"),o=h("svg"),i=h("path"),l=h("path"),a=v(),c=d("a"),u=y(q),w=v(),A=d("small"),A.textContent=""+e[2],x=v(),I=d("div"),T=y(L),C=d("br"),E=y(P),b(i,"d","M 0.5,1 H 1.5"),b(i,"class","svelte-1priiyr"),b(l,"d","M 1,0.5 V 1.5"),b(l,"class","svelte-1priiyr"),b(o,"viewBox","0 0 2 2"),b(o,"class","svelte-1priiyr"),b(s,"class","complete svelte-1priiyr"),b(s,"data-completed",r=e[0].completed),b(c,"href",p=e[0].url),b(c,"target","_blank"),b(c,"class","svelte-1priiyr"),b(A,"class","svelte-1priiyr"),b(I,"class","info svelte-1priiyr"),b(n,"class","wrapper svelte-1priiyr"),S(n,"expanded",e[1])},m(t,r){f(t,n,r),g(n,s),g(s,o),g(o,i),g(o,l),g(n,a),g(n,c),g(c,u),g(n,w),g(n,A),g(n,x),g(n,I),g(I,T),g(I,C),g(I,E),D||(_=$(s,"click",e[3]),D=!0)},p(t,[e]){1&e&&r!==(r=t[0].completed)&&b(s,"data-completed",r),1&e&&q!==(q=t[0].name+"")&&k(u,q),1&e&&p!==(p=t[0].url)&&b(c,"href",p),1&e&&L!==(L=t[0].className+"")&&k(T,L),1&e&&P!==(P=t[0].description+"")&&k(E,P),2&e&&S(n,"expanded",t[1])},i:t,o:t,d(t){t&&m(n),D=!1,_()}}}function Lt(t,e,n){let{item:s}=e,o=s.date.getTime()-(new Date).getTime()>864e5?s.date.toString().split(" ")[0]:s.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),i=!1;return t.$$set=t=>{"item"in t&&n(0,s=t.item)},[s,i,o,()=>n(1,i=!i)]}class Pt extends Y{constructor(t){super(),Q(this,t,Lt,qt,i,{item:0})}}function Nt(t,e,n){const s=t.slice();return s[8]=e[n],s[9]=e,s[10]=n,s}function Ut(t){let e,n,s;function o(e){t[5].call(null,e,t[8],t[9],t[10])}let i={};return void 0!==t[8]&&(i.item=t[8]),e=new Pt({props:i}),D.push((()=>z(e,"item",o))),{c(){J(e.$$.fragment)},m(t,n){W(e,t,n),s=!0},p(s,o){t=s;const i={};!n&&8&o&&(n=!0,i.item=t[8],U((()=>n=!1))),e.$set(i)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function Bt(t){let e,n,o,i,l,r=t[3].filter(t[4]),a=[];for(let e=0;e<r.length;e+=1)a[e]=Ut(Nt(t,r,e));const c=t=>H(a[t],1,1,(()=>{a[t]=null}));return{c(){e=d("div"),n=d("div"),o=v(),i=d("div");for(let t=0;t<a.length;t+=1)a[t].c();b(n,"class","mask svelte-gguyh1"),b(i,"class","content svelte-gguyh1"),b(e,"class","wrapper svelte-gguyh1"),x(e,"--items-length","'"+(t[3].length>0?t[3].length+" ":"")+"'"),S(e,"animated",t[1]),S(e,"loading",t[2])},m(s,r){f(s,e,r),g(e,n),g(e,o),g(e,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null);t[6](e),l=!0},p(t,[n]){if(8&n){let e;for(r=t[3].filter(t[4]),e=0;e<r.length;e+=1){const s=Nt(t,r,e);a[e]?(a[e].p(s,n),M(a[e],1)):(a[e]=Ut(s),a[e].c(),M(a[e],1),a[e].m(i,null))}for(O={r:0,c:[],p:O},e=r.length;e<a.length;e+=1)c(e);O.r||s(O.c),O=O.p}(!l||8&n)&&x(e,"--items-length","'"+(t[3].length>0?t[3].length+" ":"")+"'"),2&n&&S(e,"animated",t[1]),4&n&&S(e,"loading",t[2])},i(t){if(!l){for(let t=0;t<r.length;t+=1)M(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)H(a[t]);l=!1},d(n){n&&m(e),p(a,n),t[6](null)}}}function Rt(t,e,n){let s,o;a(t,at,(t=>n(3,s=t)));let i=!1,l=!1;return t.$$.update=()=>{8&t.$$.dirty&&s.length>0&&(n(1,i=n(2,l=!0)),n(0,o.style.maxHeight=n(0,o.style.height=o.querySelector(".content").getBoundingClientRect().height+"px",o),o),setTimeout((()=>{n(2,l=!1),n(0,o.style.height=o.querySelector(".content").getBoundingClientRect().height+"px",o),n(0,o.style.maxHeight=o.querySelector(".content").getBoundingClientRect().height+200+"px",o),setTimeout((()=>n(0,o.style.height="auto",o)),400)}),500))},[o,i,l,s,t=>t.date.getTime()-(new Date).getTime()<6048e5,function(t,e,n,o){n[o]=t,at.set(s)},function(t){D[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Vt extends Y{constructor(t){super(),Q(this,t,Rt,Bt,i,{})}}function jt(t){let e,n,o,i,l,r,a,c,u,g,p,h,y,w,k,A,S;function I(e){t[8].call(null,e)}function T(e){t[9].call(null,e)}let C={};void 0!==t[0]&&(C.visible=t[0]),void 0!==t[1]&&(C.button=t[1]),i=new _t({props:C}),D.push((()=>z(i,"visible",I))),D.push((()=>z(i,"button",T)));return g=new vt({props:{}}),t[10](g),h=new wt({}),w=new Vt({}),{c(){e=d("div"),n=v(),o=v(),J(i.$$.fragment),a=v(),c=d("br"),u=v(),J(g.$$.fragment),p=v(),J(h.$$.fragment),y=v(),J(w.$$.fragment),b(e,"class","menu-button svelte-1pw17nr"),x(e,"--profile-icon","url("+t[3]+")"),b(e,"alt",t[4])},m(s,l){f(s,e,l),t[6](e),f(s,n,l),f(s,o,l),W(i,s,l),f(s,a,l),f(s,c,l),f(s,u,l),W(g,s,l),f(s,p,l),W(h,s,l),f(s,y,l),W(w,s,l),k=!0,A||(S=[$(e,"click",t[7]),$(document.body,"keydown",t[5])],A=!0)},p(t,[n]){(!k||8&n)&&x(e,"--profile-icon","url("+t[3]+")"),(!k||16&n)&&b(e,"alt",t[4]);const s={};!l&&1&n&&(l=!0,s.visible=t[0],U((()=>l=!1))),!r&&2&n&&(r=!0,s.button=t[1],U((()=>r=!1))),i.$set(s);g.$set({})},i(t){k||(M(i.$$.fragment,t),M(g.$$.fragment,t),M(h.$$.fragment,t),M(w.$$.fragment,t),k=!0)},o(t){H(i.$$.fragment,t),H(g.$$.fragment,t),H(h.$$.fragment,t),H(w.$$.fragment,t),k=!1},d(l){l&&m(e),t[6](null),l&&m(n),l&&m(o),X(i,l),l&&m(a),l&&m(c),l&&m(u),t[10](null),X(g,l),l&&m(p),X(h,l),l&&m(y),X(w,l),A=!1,s(S)}}}function Ft(t,e,n){let s,o,i,l,r;a(t,st,(t=>n(3,s=t))),a(t,nt,(t=>n(4,o=t))),C((()=>pt().then((()=>dt))));return[i,l,r,s,o,t=>{"/"!=t.key||i||(t.preventDefault(),r.focus())},function(t){D[t?"unshift":"push"]((()=>{l=t,n(1,l)}))},()=>n(0,i=!i),function(t){i=t,n(0,i)},function(t){l=t,n(1,l)},function(t){D[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}return new class extends Y{constructor(t){super(),Q(this,t,Ft,jt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
