var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function i(e){let t;return r(e,(e=>t=e))(),t}function a(e,t,n){e.$$.on_destroy.push(r(t,n))}function c(e,t,n=t){return e.set(n),t}function u(t){return t&&o(t.destroy)?t.destroy:e}function g(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function h(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function $(){return v(" ")}function b(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e){return""===e?null:+e}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t){e.value=null==t?"":t}function x(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}function A(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function _(e,t,n){e.classList[n?"add":"remove"](t)}let I;function C(e){I=e}function T(e){(function(){if(!I)throw new Error("Function called outside component initialization");return I})().$$.on_mount.push(e)}const L=[],D=[],E=[],P=[],j=Promise.resolve();let H=!1;function N(e){E.push(e)}function U(e){P.push(e)}let q=!1;const z=new Set;function M(){if(!q){q=!0;do{for(let e=0;e<L.length;e+=1){const t=L[e];C(t),V(t.$$)}for(C(null),L.length=0;D.length;)D.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];z.has(t)||(z.add(t),t())}E.length=0}while(L.length);for(;P.length;)P.pop()();H=!1,q=!1,z.clear()}}function V(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const B=new Set;let O;function R(e,t){e&&e.i&&(B.delete(e),e.i(t))}function F(e,t,n,s){if(e&&e.o){if(B.has(e))return;B.add(e),O.c.push((()=>{B.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const G="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function J(e){e&&e.c()}function X(e,n,l){const{fragment:r,on_mount:i,on_destroy:a,after_update:c}=e.$$;r&&r.m(n,l),N((()=>{const n=i.map(t).filter(o);a?a.push(...n):s(n),e.$$.on_mount=[]})),c.forEach(N)}function K(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(L.push(e),H||(H=!0,j.then(M)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,o,l,r,i,a,c=[-1]){const u=I;C(t);const g=o.props||{},d=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=l?l(t,g,((e,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),f&&Q(t,e)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);d.fragment&&d.fragment.l(e),e.forEach(m)}else d.fragment&&d.fragment.c();o.intro&&R(t.$$.fragment),X(t,o.target,o.anchor),M()}C(u)}class Z{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee=[];function te(t,n=e){let s;const o=[];function r(e){if(l(t,e)&&(t=e,s)){const e=!ee.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),ee.push(n,t)}if(e){for(let e=0;e<ee.length;e+=2)ee[e][0](ee[e+1]);ee.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,i=e){const a=[l,i];return o.push(a),1===o.length&&(s=n(r)||e),l(t),()=>{const e=o.indexOf(a);-1!==e&&o.splice(e,1),0===o.length&&(s(),s=null)}}}}function ne(t,n,l){const i=!Array.isArray(t),a=i?[t]:t,c=n.length<2;return{subscribe:te(l,(t=>{let l=!1;const u=[];let g=0,d=e;const m=()=>{if(g)return;d();const s=n(i?u[0]:u,t);c?t(s):d=o(s)?s:e},f=a.map(((e,t)=>r(e,(e=>{u[t]=e,g&=~(1<<t),l&&m()}),(()=>{g|=1<<t}))));return l=!0,m(),function(){s(f),d()}})).subscribe}}const se="Signed out",oe=["auto","light","dark"],le=te(localStorage.getItem("profileName")||se),re=te(localStorage.getItem("profileIcon")),ie=te(JSON.parse(localStorage.getItem("profileBookmarks")||"[]")),ae=te(localStorage.getItem("profileCanvasURL")||""),ce=te(localStorage.getItem("profilePreferredGoogleUser")||"0"),ue=te(localStorage.getItem("profilePreferredColorScheme")||"auto");le.subscribe((e=>localStorage.setItem("profileName",e))),re.subscribe((e=>localStorage.setItem("profileIcon",e))),ie.subscribe((e=>localStorage.setItem("profileBookmarks",JSON.stringify(e)))),ae.subscribe((e=>localStorage.setItem("profileCanvasURL",e))),ce.subscribe((e=>localStorage.setItem("profilePreferredGoogleUser",e))),ue.subscribe((e=>localStorage.setItem("profilePreferredColorScheme",e)));const ge=ne(ie,(e=>[].concat(...e.map(((e,t)=>e.aliases.map((e=>[e,t]))))).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t[0]]:t[1]})),{}))),de=ne(ie,(e=>[].concat(...e.map((e=>e.links.map((e=>e.name))))).filter(((e,t,n)=>n.indexOf(e)==t)))),me=te([]);class fe{constructor(e,t,n,s,o,l=-1){this.completed=-1,this.name=e,this.className=t,this.description=n||"No description available.",this.url=s,this.date=o,this.completed=l;let r=((e,t)=>{let n=0,s=e.length-1;for(;n<=s;){let o=Math.floor((n+s)/2);if(e[o]<t)n=o+1;else{if(!(e[o]>t))return o;s=o-1}}return n})(i(me).map((e=>e.date.getTime())),this.date.getTime());me.set([...i(me).slice(0,r),this,...i(me).slice(r)])}}const pe=(e=$e.auth2.getAuthInstance().isSignedIn.get())=>{if(e){let e=$e.auth2.getAuthInstance().currentUser.get().getBasicProfile();e.getName()!=i(le)&&(le.set(e.getName()),re.set(e.getImageUrl()))}else le.set(se),re.set("https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg");ye()},he=async()=>{const e=window.ICAL,t=await fetch(new Request("https://cors-anywhere.herokuapp.com/"+(e=>e.hostname+e.pathname).call(void 0,new URL(i(ae))),{mode:"cors"}));if(!t.ok)return void console.error("HTTP error fetching calendar! status: "+t.status);const n=await t.text();let s=new e.Component(e.parse(n)).getAllSubcomponents("vevent");console.log(`Loaded ${s.length} Canvas assignments: `,s.map((e=>(e.getFirstPropertyValue("summary").match(/.+?(?= \()/)||e.getFirstPropertyValue("summary").match(/.+?(?= \[)/))[0])));s.filter((e=>(new Date).getTime()<=e.getFirstPropertyValue("dtstart").toJSDate().getTime())).forEach((e=>{new fe((e.getFirstPropertyValue("summary").match(/.+?(?= \()/)||e.getFirstPropertyValue("summary").match(/.+?(?= \[)/))[0],e.getFirstPropertyValue("summary").match(/\[([^\]]+)\]/)[1],"",(e=>{const t=new URL(e);return t.origin+"/courses/"+t.searchParams.get("include_contexts").replace("course_","")+"/assignments/"+t.hash.replace("#assignment_","")})(e.getFirstPropertyValue("url")),e.getFirstPropertyValue("dtstart").toJSDate(),(new Date).getTime()>e.getFirstPropertyValue("dtstart").toJSDate().getTime()?1:-1)}))},ve=e=>new Promise(((t,n)=>{let s=document.createElement("script");s.src=e,s.onload=t,s.onerror=n,document.head.appendChild(s)}));let $e;const be=async()=>{await Promise.all([ve("https://unpkg.com/ical.js@1.4.0/build/ical.js"),ve("https://apis.google.com/js/api:client.js")]),$e=window.gapi,await $e.load("auth2",(()=>$e.client.init({clientId:"254795124493-hqrmlh9oqs85knd24o98c3644hmiqoc3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"],scope:["profile","https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.coursework.me.readonly"].join(" ")}).then((()=>pe()))))},ye=()=>{console.log("Loading assignments."),me.set([]),$e.auth2.getAuthInstance().isSignedIn.get()&&(async()=>{const e=(await $e.client.classroom.courses.list()).result.courses.filter((e=>"ARCHIVED"!=e.courseState)),t=(await Promise.all(e.map((async e=>(await $e.client.classroom.courses.courseWork.list({courseId:e.id})).result.courseWork)))).filter((e=>null!=e)),n=[].concat(...t);let s=await Promise.all(n.map((async e=>({assignment:e,submission:(await $e.client.classroom.courses.courseWork.studentSubmissions.list({courseId:e.courseId,courseWorkId:e.id})).result.studentSubmissions[0]}))));s.filter((e=>"CREATED"===e.submission.state)).forEach((t=>new fe(t.assignment.title,e.find((e=>e.id===t.assignment.courseId)).name,t.assignment.description,t.assignment.alternateLink.replace("classroom.google.com/","classroom.google.com/u/"+i(ce)+"/"),t.assignment.dueDate?new Date(Date.UTC(t.assignment.dueDate.year,t.assignment.dueDate.month-1,t.assignment.dueDate.day,t.assignment.dueTime.hours,t.assignment.dueTime.minutes||0)):new Date,"CREATED"!=t.submission.state?1:0))),console.log(`Loaded ${s.length} Google Classroom assignments from ${e.length} courses: `,s.map((e=>e.assignment.title)))})(),i(ae)&&he()};function we(t){let n,o,l,r;return{c(){n=p("input"),y(n,"type","text"),y(n,"placeholder",o=t[1]||'Enter a command (press "/" to focus)'),y(n,"class","svelte-1ws5cg"),_(n,"error",""!=t[1])},m(e,s){d(e,n,s),t[6](n),S(n,t[0]),l||(r=[b(n,"input",t[7]),b(n,"keydown",t[3])],l=!0)},p(e,[t]){2&t&&o!==(o=e[1]||'Enter a command (press "/" to focus)')&&y(n,"placeholder",o),1&t&&n.value!==e[0]&&S(n,e[0]),2&t&&_(n,"error",""!=e[1])},i:e,o:e,d(e){e&&m(n),t[6](null),l=!1,s(r)}}}function ke(e,t,n){let s,o,l;a(e,ge,(e=>n(8,s=e))),a(e,ie,(e=>n(9,o=e)));let r,i="";const c=e=>{r&&(n(1,i=e),setTimeout((()=>n(1,i="")),3e3))};return[l,i,r,e=>{if("Enter"===e.key){e.preventDefault();let t=l.toLowerCase().split(" ");if(n(0,l=""),!t[0]||!t[1])return void c("Enter a command in the format [link] [alias].");if(Object.keys(s).includes(t[1])){let e=o[s[t[1]]].links.map((e=>e.name)).indexOf(t[0]);-1!=e?window.open(o[s[t[1]]].links[e].url):c(`No link ${t[0]} for alias ${t[1]}.`)}else c(`No alias match for ${t[1]}.`)}},c,e=>{r&&r.focus()},function(e){D[e?"unshift":"push"]((()=>{r=e,n(2,r)}))},function(){l=this.value,n(0,l)}]}class Se extends Z{constructor(e){super(),Y(this,e,ke,we,l,{showError:4,focus:5})}get showError(){return this.$$.ctx[4]}get focus(){return this.$$.ctx[5]}}function xe(t){let n,s,o,l,r,i,a,c,u,f;return{c(){n=p("div"),s=p("div"),o=v(t[0]),l=$(),r=h("svg"),i=h("path"),a=h("path"),c=$(),u=p("div"),f=v(t[2]),y(s,"class","time svelte-3z7j30"),y(i,"d","M0,0 H10"),y(i,"class","svelte-3z7j30"),y(a,"d","M0,0 H10"),x(a,"--progress-offset",10-10*t[1]),y(a,"class","svelte-3z7j30"),y(r,"class","progress svelte-3z7j30"),y(r,"viewBox","0 0 10 0.5"),y(u,"class","date svelte-3z7j30"),y(n,"class","time-module svelte-3z7j30")},m(e,t){d(e,n,t),g(n,s),g(s,o),g(n,l),g(n,r),g(r,i),g(r,a),g(n,c),g(n,u),g(u,f)},p(e,[t]){1&t&&k(o,e[0]),2&t&&x(a,"--progress-offset",10-10*e[1]),4&t&&k(f,e[2])},i:e,o:e,d(e){e&&m(n)}}}function Ae(e,t,n){let s,o,l,r=new Date;return T((()=>{const e=setInterval((()=>{n(3,r=new Date)}),1e3);return()=>{clearInterval(e)}})),e.$$.update=()=>{8&e.$$.dirty&&n(0,s=(12===r.getHours()||0===r.getHours()?12:r.getHours()%12).toString().padStart(2,"0")+":"+r.getMinutes().toString().padStart(2,"0")),8&e.$$.dirty&&n(1,o=r.getMinutes()/60),8&e.$$.dirty&&n(2,l=(r.getMonth()+1).toString().padStart(2,"0")+"."+r.getDate().toString().padStart(2,"0"))},[s,o,l]}class _e extends Z{constructor(e){super(),Y(this,e,Ae,xe,l,{})}}const{document:Ie}=G;function Ce(e,t,n){const s=e.slice();return s[34]=t[n],s[35]=t,s[36]=n,s}function Te(e,t,n){const s=e.slice();return s[37]=t[n],s[38]=t,s[39]=n,s}function Le(e,t,n){const s=e.slice();return s[31]=t[n],s[32]=t,s[33]=n,s}function De(e,t,n){const s=e.slice();return s[40]=t[n],s}function Ee(e,t,n){const s=e.slice();return s[43]=t[n],s}function Pe(t){let n,s,o,l=t[43]+"";return{c(){n=p("option"),s=v(l),n.__value=o=t[43],n.value=n.__value},m(e,t){d(e,n,t),g(n,s)},p:e,d(e){e&&m(n)}}}function je(e){let t,n;return{c(){t=p("option"),t.__value=n=e[40],t.value=t.__value},m(e,n){d(e,t,n)},p(e,s){512&s[0]&&n!==(n=e[40])&&(t.__value=n,t.value=t.__value)},d(e){e&&m(t)}}}function He(e){let t,n,o,l,r;function i(){e[18].call(t,e[38],e[39])}function a(...t){return e[19](e[31],e[32],e[33],...t)}function c(...t){return e[20](e[31],e[39],e[32],e[33],...t)}return{c(){t=p("input"),o=p("input"),y(t,"class","alias-text svelte-1r43m7g"),y(t,"size","8"),y(t,"placeholder","Fill out alias."),y(t,"type","text"),t.required=!0,y(o,"class","alias-del del svelte-1r43m7g"),y(o,"type","button"),o.value="✖"},m(s,g){d(s,t,g),S(t,e[37]),d(s,o,g),l||(r=[u(n=e[11].call(null,t)),b(t,"input",i),b(t,"change",a),b(o,"click",c)],l=!0)},p(n,s){e=n,256&s[0]&&t.value!==e[37]&&S(t,e[37])},d(e){e&&m(t),e&&m(o),l=!1,s(r)}}}function Ne(e){let t,n,o,l,r,i,a;function c(){e[22].call(t,e[35],e[36])}function g(...t){return e[23](e[31],e[36],e[32],e[33],...t)}function f(){e[24].call(o,e[35],e[36])}function h(...t){return e[25](e[31],e[32],e[33],...t)}function v(...t){return e[26](e[31],e[36],e[32],e[33],...t)}return{c(){t=p("input"),n=$(),o=p("input"),r=p("input"),y(t,"list","linkNames"),y(t,"class","link-name svelte-1r43m7g"),y(t,"size","8"),y(t,"placeholder","Fill out this link name."),y(t,"type","text"),t.required=!0,y(o,"class","link-url svelte-1r43m7g"),y(o,"size","16"),y(o,"placeholder","Fill out this link URL."),y(o,"type","url"),o.required=!0,y(r,"class","link-del del svelte-1r43m7g"),y(r,"type","button"),r.value="✖"},m(s,m){d(s,t,m),S(t,e[34].name),d(s,n,m),d(s,o,m),S(o,e[34].url),d(s,r,m),i||(a=[b(t,"input",c),b(t,"change",g),u(l=e[11].call(null,o)),b(o,"input",f),b(o,"change",h),b(r,"click",v)],i=!0)},p(n,s){e=n,256&s[0]&&t.value!==e[34].name&&S(t,e[34].name),256&s[0]&&S(o,e[34].url)},d(e){e&&m(t),e&&m(n),e&&m(o),e&&m(r),i=!1,s(a)}}}function Ue(e){let t,n,o,l,r,i,a,c,u,h,w,k,S,x,A,_,I,C,T,L,D,E,P,j,H="Bookmark "+(e[33]+1),N=e[31].aliases,U=[];for(let t=0;t<N.length;t+=1)U[t]=He(Te(e,N,t));function q(...t){return e[21](e[31],e[32],e[33],...t)}let z=e[31].links,M=[];for(let t=0;t<z.length;t+=1)M[t]=Ne(Ce(e,z,t));function V(...t){return e[27](e[31],e[32],e[33],...t)}function B(...t){return e[28](e[33],...t)}return{c(){t=p("hr"),n=$(),o=p("h1"),l=v(H),r=$(),i=p("form"),a=p("h2"),a.textContent="Aliases",c=$();for(let e=0;e<U.length;e+=1)U[e].c();u=$(),h=p("input"),w=$(),k=p("h2"),k.textContent="Links",S=$();for(let e=0;e<M.length;e+=1)M[e].c();x=$(),A=p("input"),_=$(),I=p("input"),C=$(),T=p("input"),L=$(),D=p("input"),E=$(),y(t,"class","svelte-1r43m7g"),y(o,"class","bookmark-title svelte-1r43m7g"),y(a,"class","svelte-1r43m7g"),y(h,"class","alias-add svelte-1r43m7g"),y(h,"type","button"),h.value="Add Alias",y(k,"class","svelte-1r43m7g"),y(A,"class","link-add svelte-1r43m7g"),y(A,"type","button"),A.value="Add Link",y(I,"type","submit"),I.value="Validate",y(I,"class","svelte-1r43m7g"),y(T,"class","bookmark-del del svelte-1r43m7g"),y(T,"type","button"),T.value="Delete Bookmark",y(D,"type","submit"),D.value="Validate",y(D,"class","svelte-1r43m7g"),y(i,"class","bookmark-form svelte-1r43m7g"),y(i,"action","#")},m(e,s){d(e,t,s),d(e,n,s),d(e,o,s),g(o,l),d(e,r,s),d(e,i,s),g(i,a),g(i,c);for(let e=0;e<U.length;e+=1)U[e].m(i,null);g(i,u),g(i,h),g(i,w),g(i,k),g(i,S);for(let e=0;e<M.length;e+=1)M[e].m(i,null);g(i,x),g(i,A),g(i,_),g(i,I),g(i,C),g(i,T),g(i,L),g(i,D),g(i,E),P||(j=[b(h,"click",q),b(A,"click",V),b(T,"click",B)],P=!0)},p(t,n){if(e=t,1280&n[0]){let t;for(N=e[31].aliases,t=0;t<N.length;t+=1){const s=Te(e,N,t);U[t]?U[t].p(s,n):(U[t]=He(s),U[t].c(),U[t].m(i,u))}for(;t<U.length;t+=1)U[t].d(1);U.length=N.length}if(256&n[0]){let t;for(z=e[31].links,t=0;t<z.length;t+=1){const s=Ce(e,z,t);M[t]?M[t].p(s,n):(M[t]=Ne(s),M[t].c(),M[t].m(i,x))}for(;t<M.length;t+=1)M[t].d(1);M.length=z.length}},d(e){e&&m(t),e&&m(n),e&&m(o),e&&m(r),e&&m(i),f(U,e),f(M,e),P=!1,s(j)}}}function qe(t){let n,o,l,r,i,a,c,u,h,v,k,x,I,C,T,L,D,E,P,j,H,U,q,z,M,V,B,O,R,F,G,W,J,X,K,Q=oe,Y=[];for(let e=0;e<Q.length;e+=1)Y[e]=Pe(Ee(t,Q,e));let Z=t[9],ee=[];for(let e=0;e<Z.length;e+=1)ee[e]=je(De(t,Z,e));let te=t[8],ne=[];for(let e=0;e<te.length;e+=1)ne[e]=Ue(Le(t,te,e));return{c(){n=$(),o=p("div"),l=p("h1"),l.textContent="Accounts",r=$(),i=p("h2"),i.textContent="Canvas Calendar URL",a=$(),c=p("input"),u=$(),h=p("h2"),h.textContent="Google OAuth",v=$(),k=p("input"),I=$(),C=p("br"),T=$(),L=p("label"),L.innerHTML="If you&#39;re signed into multiple Google\n    accounts, this is the\n    <pre>classroom.google.com/u/[number]/</pre>\n    in the URL for Classroom.",D=$(),E=p("input"),P=$(),j=p("br"),H=$(),U=p("select");for(let e=0;e<Y.length;e+=1)Y[e].c();q=$(),z=p("hr"),M=p("br"),V=p("br"),B=$(),O=p("h1"),O.textContent="Bookmarks",R=$(),F=p("input"),G=$(),W=p("datalist");for(let e=0;e<ee.length;e+=1)ee[e].c();J=$();for(let e=0;e<ne.length;e+=1)ne[e].c();y(i,"class","svelte-1r43m7g"),y(c,"type","url"),y(c,"size","30"),c.required=!0,y(c,"class","svelte-1r43m7g"),y(h,"class","svelte-1r43m7g"),y(k,"type","button"),k.value=x="Signed out"!=t[6]?"Sign out "+t[6]:"Sign in with Google",y(k,"class","svelte-1r43m7g"),y(L,"for","preferredGoogleUser"),y(E,"id","preferredGoogleUser"),y(E,"type","number"),y(E,"class","svelte-1r43m7g"),y(U,"class","svelte-1r43m7g"),void 0===t[4]&&N((()=>t[16].call(U))),y(z,"class","svelte-1r43m7g"),y(F,"type","button"),F.value="Add Bookmark",y(F,"class","svelte-1r43m7g"),y(W,"id","linkNames"),y(o,"class","wrapper svelte-1r43m7g"),_(o,"visible",t[0])},m(e,s){d(e,n,s),d(e,o,s),g(o,l),g(o,r),g(o,i),g(o,a),g(o,c),S(c,t[5]),g(o,u),g(o,h),g(o,v),g(o,k),g(o,I),g(o,C),g(o,T),g(o,L),g(o,D),g(o,E),S(E,t[7]),g(o,P),g(o,j),g(o,H),g(o,U);for(let e=0;e<Y.length;e+=1)Y[e].m(U,null);A(U,t[4]),g(o,q),g(o,z),g(o,M),g(o,V),g(o,B),g(o,O),g(o,R),g(o,F),g(o,G),g(o,W);for(let e=0;e<ee.length;e+=1)ee[e].m(W,null);g(o,J);for(let e=0;e<ne.length;e+=1)ne[e].m(o,null);t[29](o),X||(K=[b(Ie.body,"click",t[12]),b(c,"input",t[13]),b(c,"change",ye),b(k,"click",t[14]),b(E,"input",t[15]),b(U,"change",t[16]),b(F,"click",t[17])],X=!0)},p(e,t){if(32&t[0]&&S(c,e[5]),64&t[0]&&x!==(x="Signed out"!=e[6]?"Sign out "+e[6]:"Sign in with Google")&&(k.value=x),128&t[0]&&w(E.value)!==e[7]&&S(E,e[7]),0&t){let n;for(Q=oe,n=0;n<Q.length;n+=1){const s=Ee(e,Q,n);Y[n]?Y[n].p(s,t):(Y[n]=Pe(s),Y[n].c(),Y[n].m(U,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=Q.length}if(16&t[0]&&A(U,e[4]),512&t[0]){let n;for(Z=e[9],n=0;n<Z.length;n+=1){const s=De(e,Z,n);ee[n]?ee[n].p(s,t):(ee[n]=je(s),ee[n].c(),ee[n].m(W,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=Z.length}if(1280&t[0]){let n;for(te=e[8],n=0;n<te.length;n+=1){const s=Le(e,te,n);ne[n]?ne[n].p(s,t):(ne[n]=Ue(s),ne[n].c(),ne[n].m(o,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}1&t[0]&&_(o,"visible",e[0])},i:e,o:e,d(e){e&&m(n),e&&m(o),f(Y,e),f(ee,e),f(ne,e),t[29](null),X=!1,s(K)}}}function ze(e,t,n){let s,o,l,r,i,u,g;a(e,ue,(e=>n(4,s=e))),a(e,ae,(e=>n(5,o=e))),a(e,le,(e=>n(6,l=e))),a(e,ce,(e=>n(7,r=e))),a(e,ie,(e=>n(8,i=e))),a(e,de,(e=>n(9,u=e))),a(e,ge,(e=>n(10,g=e)));let{visible:d=!1}=t,{wrapper:m}=t,{button:f}=t,p=!1;return e.$$set=e=>{"visible"in e&&n(0,d=e.visible),"wrapper"in e&&n(1,m=e.wrapper),"button"in e&&n(2,f=e.button)},[d,m,f,p,s,o,l,r,i,u,g,e=>{p||e.focus()},e=>{setTimeout((()=>{d&&!m.contains(e.target)&&!f.contains(e.target)&&document.body.contains(e.target)&&n(0,d=!1)}),100)},function(){o=this.value,ae.set(o)},()=>{(async()=>{await($e.auth2.getAuthInstance().isSignedIn.get()?$e.auth2.getAuthInstance().signOut():$e.auth2.getAuthInstance().signIn()),pe()})()},function(){r=w(this.value),ce.set(r)},function(){s=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),ue.set(s)},e=>{n(3,p=!0),c(ie,i=[...i,{aliases:[""],links:[{name:"",url:""}]}],i),setTimeout((()=>e.target.parentElement.scrollTo({top:e.target.parentElement.scrollHeight,behavior:"smooth"})),50),setTimeout((()=>n(3,p=!1)),50)},function(e,t){e[t]=this.value},(e,t,n,s)=>{s.target.value=s.target.value.toLowerCase(),s.target.setCustomValidity(Object.keys(g).includes(s.target.value)?"Alias must be unique.":""),c(ie,t[n]=e,i)},(e,t,n,s,o)=>{c(ie,n[s].aliases=[...e.aliases.slice(0,t),...e.aliases.slice(t+1)],i),c(ie,n[s]=e,i)},(e,t,n)=>{c(ie,t[n].aliases=[...e.aliases,""],i)},function(e,t){e[t].name=this.value},(e,t,n,s,o)=>{o.target.value=o.target.value.toLowerCase(),o.target.setCustomValidity(e.links.map((e=>e.name)).indexOf(o.target.value)!==t?"Link name must be unique.":""),c(ie,n[s]=e,i)},function(e,t){e[t].url=this.value},(e,t,n)=>{c(ie,t[n]=e,i)},(e,t,n,s)=>{c(ie,n[s].links=[...e.links.slice(0,t),...e.links.slice(t+1)],i),c(ie,n[s]=e,i)},(e,t,n)=>{c(ie,t[n].links=[...e.links,{name:"",url:""}],i)},e=>c(ie,i=[...i.slice(0,e),...i.slice(e+1)],i),function(e){D[e?"unshift":"push"]((()=>{m=e,n(1,m)}))}]}class Me extends Z{constructor(e){super(),Y(this,e,ze,qe,l,{visible:0,wrapper:1,button:2},[-1,-1])}}function Ve(t){let n,s,o,l,r,i,a,c,u,f,w,S,x,A,I,C,T,L,D,E,P=t[0].name+"",j=(t[0].date.getTime()-(new Date).getTime()>864e5?t[0].date.toString().split(" ")[0]:t[0].date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}))+"",H=t[0].className+"",N=t[0].description+"";return{c(){n=p("div"),s=p("div"),o=h("svg"),l=h("path"),r=h("path"),a=$(),c=p("a"),u=v(P),w=$(),S=p("small"),x=v(j),A=$(),I=p("div"),C=v(H),T=p("br"),L=v(N),y(l,"d","M 0.5,1 H 1.5"),y(l,"class","svelte-1g961nd"),y(r,"d","M 1,0.5 V 1.5"),y(r,"class","svelte-1g961nd"),y(o,"viewBox","0 0 2 2"),y(o,"class","svelte-1g961nd"),y(s,"class","complete svelte-1g961nd"),y(s,"data-completed",i=t[0].completed),y(c,"href",f=t[0].url),y(c,"target","_blank"),y(c,"class","svelte-1g961nd"),y(S,"class","svelte-1g961nd"),y(I,"class","info svelte-1g961nd"),y(n,"class","wrapper svelte-1g961nd"),_(n,"expanded",t[1])},m(e,i){d(e,n,i),g(n,s),g(s,o),g(o,l),g(o,r),g(n,a),g(n,c),g(c,u),g(n,w),g(n,S),g(S,x),g(n,A),g(n,I),g(I,C),g(I,T),g(I,L),D||(E=b(s,"click",t[2]),D=!0)},p(e,[t]){1&t&&i!==(i=e[0].completed)&&y(s,"data-completed",i),1&t&&P!==(P=e[0].name+"")&&k(u,P),1&t&&f!==(f=e[0].url)&&y(c,"href",f),1&t&&j!==(j=(e[0].date.getTime()-(new Date).getTime()>864e5?e[0].date.toString().split(" ")[0]:e[0].date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}))+"")&&k(x,j),1&t&&H!==(H=e[0].className+"")&&k(C,H),1&t&&N!==(N=e[0].description+"")&&k(L,N),2&t&&_(n,"expanded",e[1])},i:e,o:e,d(e){e&&m(n),D=!1,E()}}}function Be(e,t,n){let{item:s}=t,o=!1;return e.$$set=e=>{"item"in e&&n(0,s=e.item)},e.$$.update=()=>{1&e.$$.dirty&&s&&n(1,o=!1)},[s,o,()=>n(1,o=!o)]}class Oe extends Z{constructor(e){super(),Y(this,e,Be,Ve,l,{item:0})}}function Re(e,t,n){const s=e.slice();return s[8]=t[n],s[9]=t,s[10]=n,s}function Fe(e){let t,n,s;function o(t){e[5].call(null,t,e[8],e[9],e[10])}let l={};return void 0!==e[8]&&(l.item=e[8]),t=new Oe({props:l}),D.push((()=>W(t,"item",o))),{c(){J(t.$$.fragment)},m(e,n){X(t,e,n),s=!0},p(s,o){e=s;const l={};!n&&8&o&&(n=!0,l.item=e[8],U((()=>n=!1))),t.$set(l)},i(e){s||(R(t.$$.fragment,e),s=!0)},o(e){F(t.$$.fragment,e),s=!1},d(e){K(t,e)}}}function Ge(e){let t,n,o,l,r,i=e[3].filter(e[4]),a=[];for(let t=0;t<i.length;t+=1)a[t]=Fe(Re(e,i,t));const c=e=>F(a[e],1,1,(()=>{a[e]=null}));return{c(){t=p("div"),n=p("div"),o=$(),l=p("div");for(let e=0;e<a.length;e+=1)a[e].c();y(n,"class","mask svelte-1aluyzc"),y(l,"class","content svelte-1aluyzc"),y(t,"class","wrapper svelte-1aluyzc"),x(t,"--items-length","'"+(e[3].length>0?e[3].length+" ":"")+"'"),_(t,"animated",e[1]),_(t,"loading",e[2])},m(s,i){d(s,t,i),g(t,n),g(t,o),g(t,l);for(let e=0;e<a.length;e+=1)a[e].m(l,null);e[6](t),r=!0},p(e,[n]){if(8&n){let t;for(i=e[3].filter(e[4]),t=0;t<i.length;t+=1){const s=Re(e,i,t);a[t]?(a[t].p(s,n),R(a[t],1)):(a[t]=Fe(s),a[t].c(),R(a[t],1),a[t].m(l,null))}for(O={r:0,c:[],p:O},t=i.length;t<a.length;t+=1)c(t);O.r||s(O.c),O=O.p}(!r||8&n)&&x(t,"--items-length","'"+(e[3].length>0?e[3].length+" ":"")+"'"),2&n&&_(t,"animated",e[1]),4&n&&_(t,"loading",e[2])},i(e){if(!r){for(let e=0;e<i.length;e+=1)R(a[e]);r=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)F(a[e]);r=!1},d(n){n&&m(t),f(a,n),e[6](null)}}}function We(e,t,n){let s,o;a(e,me,(e=>n(3,s=e)));let l=!1,r=!1;return e.$$.update=()=>{8&e.$$.dirty&&s.length>0&&(n(1,l=n(2,r=!0)),n(0,o.style.maxHeight=n(0,o.style.height=o.querySelector(".content").getBoundingClientRect().height+"px",o),o),setTimeout((()=>{n(2,r=!1),n(0,o.style.height=o.querySelector(".content").getBoundingClientRect().height+"px",o),n(0,o.style.maxHeight=o.querySelector(".content").getBoundingClientRect().height+200+"px",o),setTimeout((()=>n(0,o.style.height="auto",o)),400)}),500))},[o,l,r,s,e=>e.date.getTime()-(new Date).getTime()<6048e5,function(e,t,n,o){n[o]=e,me.set(s)},function(e){D[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class Je extends Z{constructor(e){super(),Y(this,e,We,Ge,l,{})}}function Xe(t){let n,s,o;return{c(){n=p("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" class="svelte-di2d5k"><path d="M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z"></path></svg>',y(n,"title","Click to install as an application"),y(n,"class","wrapper svelte-di2d5k"),_(n,"enabled",t[0])},m(e,l){d(e,n,l),t[3](n),s||(o=b(n,"click",t[2]),s=!0)},p(e,[t]){1&t&&_(n,"enabled",e[0])},i:e,o:e,d(e){e&&m(n),t[3](null),s=!1,o()}}}function Ke(e,t,n){let s=!1,o=void 0,l=void 0;T((()=>{window.addEventListener("beforeinstallprompt",(e=>{console.log(e),e.preventDefault(),l=e,n(0,s=!0)}))}));return[s,o,()=>{n(0,s=!1),l.prompt(),l.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),l=null}))},function(e){D[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class Qe extends Z{constructor(e){super(),Y(this,e,Ke,Xe,l,{})}}const{document:Ye}=G;function Ze(e){let t,n,o,l,r,i,a,c,u,f,h,v,w,k,S,A,_,I,C,T;r=new Qe({});function L(t){e[9].call(null,t)}function E(t){e[10].call(null,t)}a=new Se({props:{}}),e[6](a);let P={};return void 0!==e[0]&&(P.visible=e[0]),void 0!==e[1]&&(P.button=e[1]),h=new Me({props:P}),D.push((()=>W(h,"visible",L))),D.push((()=>W(h,"button",E))),S=new _e({}),_=new Je({}),{c(){t=$(),n=p("br"),o=$(),l=p("div"),J(r.$$.fragment),i=$(),J(a.$$.fragment),c=$(),u=p("div"),f=$(),J(h.$$.fragment),k=$(),J(S.$$.fragment),A=$(),J(_.$$.fragment),y(u,"class","menu-button svelte-10891as"),x(u,"--profile-icon","url("+e[3]+")"),y(u,"alt",e[4]),y(l,"class","header svelte-10891as")},m(s,m){d(s,t,m),d(s,n,m),d(s,o,m),d(s,l,m),X(r,l,null),g(l,i),X(a,l,null),g(l,c),g(l,u),e[7](u),d(s,f,m),X(h,s,m),d(s,k,m),X(S,s,m),d(s,A,m),X(_,s,m),I=!0,C||(T=[b(Ye.body,"keydown",e[5]),b(u,"click",e[8])],C=!0)},p(e,[t]){a.$set({}),(!I||8&t)&&x(u,"--profile-icon","url("+e[3]+")"),(!I||16&t)&&y(u,"alt",e[4]);const n={};!v&&1&t&&(v=!0,n.visible=e[0],U((()=>v=!1))),!w&&2&t&&(w=!0,n.button=e[1],U((()=>w=!1))),h.$set(n)},i(e){I||(R(r.$$.fragment,e),R(a.$$.fragment,e),R(h.$$.fragment,e),R(S.$$.fragment,e),R(_.$$.fragment,e),I=!0)},o(e){F(r.$$.fragment,e),F(a.$$.fragment,e),F(h.$$.fragment,e),F(S.$$.fragment,e),F(_.$$.fragment,e),I=!1},d(i){i&&m(t),i&&m(n),i&&m(o),i&&m(l),K(r),e[6](null),K(a),e[7](null),i&&m(f),K(h,i),i&&m(k),K(S,i),i&&m(A),K(_,i),C=!1,s(T)}}}function et(e,t,n){let s,o,l,r,i,c;a(e,ue,(e=>n(11,s=e))),a(e,re,(e=>n(3,o=e))),a(e,le,(e=>n(4,l=e))),T((()=>{be().then((()=>ye))}));return e.$$.update=()=>{2048&e.$$.dirty&&("light"===s||"auto"===s&&window.matchMedia("(prefers-color-scheme: light)").matches?(document.body.classList.remove("prefers-dark"),document.body.classList.add("prefers-light")):(document.body.classList.add("prefers-dark"),document.body.classList.remove("prefers-light")))},[r,i,c,o,l,e=>{"/"!==e.key||r||(e.preventDefault(),c.focus())},function(e){D[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},function(e){D[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},()=>n(0,r=!r),function(e){r=e,n(0,r)},function(e){i=e,n(1,i)}]}"serviceWorker"in navigator&&navigator.serviceWorker.register("./serviceWorker.js").then((e=>console.log("Service Worker registered.")));return new class extends Z{constructor(e){super(),Y(this,e,et,Ze,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
