var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function r(t){let e;return l(t,t=>e=t)(),e}function a(t,e,n){t.$$.on_destroy.push(l(e,n))}function c(t,e,n=e){return t.set(n),e}function u(e){return e&&o(e.destroy)?e.destroy:t}function g(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function A(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function x(t,e,n){t.classList[n?"add":"remove"](e)}let S;function I(t){S=t}function q(t){(function(){if(!S)throw new Error("Function called outside component initialization");return S})().$$.on_mount.push(t)}const C=[],E=[],T=[],_=[],D=Promise.resolve();let P=!1;function L(t){T.push(t)}function N(t){_.push(t)}let O=!1;const V=new Set;function F(){if(!O){O=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];I(e),j(e.$$)}for(I(null),C.length=0;E.length;)E.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];V.has(e)||(V.add(e),e())}T.length=0}while(C.length);for(;_.length;)_.pop()();P=!1,O=!1,V.clear()}}function j(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const B=new Set;let M;function R(t,e){t&&t.i&&(B.delete(t),t.i(e))}function U(t,e,n,s){if(t&&t.o){if(B.has(t))return;B.add(t),M.c.push(()=>{B.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const H="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function J(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function z(t){t&&t.c()}function W(t,n,i){const{fragment:l,on_mount:r,on_destroy:a,after_update:c}=t.$$;l&&l.m(n,i),L(()=>{const n=r.map(e).filter(o);a?a.push(...n):s(n),t.$$.on_mount=[]}),c.forEach(L)}function G(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(t,e){-1===t.$$.dirty[0]&&(C.push(t),P||(P=!0,D.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,o,i,l,r,a,c=[-1]){const u=S;I(e);const g=o.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let m=!1;if(f.ctx=i?i(e,g,(t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),m&&X(e,t)),n}):[],f.update(),m=!0,s(f.before_update),f.fragment=!!l&&l(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(d)}else f.fragment&&f.fragment.c();o.intro&&R(e.$$.fragment),W(e,o.target,o.anchor),F()}I(u)}class Q{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function Z(e,n=t){let s;const o=[];function l(t){if(i(e,t)&&(e=t,s)){const t=!Y.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Y.push(n,e)}if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,r=t){const a=[i,r];return o.push(a),1===o.length&&(s=n(l)||t),i(e),()=>{const t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}const tt=Z(localStorage.getItem("profileName")||"Signed Out"),et=Z(localStorage.getItem("profileIcon")),nt=Z(JSON.parse(localStorage.getItem("profileBookmarks")||"[]")),st=Z(localStorage.getItem("profileCanvasURL")||"");tt.subscribe(t=>localStorage.setItem("profileName",t)),et.subscribe(t=>localStorage.setItem("profileIcon",t)),nt.subscribe(t=>localStorage.setItem("profileBookmarks",JSON.stringify(t))),st.subscribe(t=>localStorage.setItem("profileCanvasURL",t));const ot=function(e,n,i){const r=!Array.isArray(e),a=r?[e]:e,c=n.length<2;return{subscribe:Z(i,e=>{let i=!1;const u=[];let g=0,f=t;const d=()=>{if(g)return;f();const s=n(r?u[0]:u,e);c?e(s):f=o(s)?s:t},m=a.map((t,e)=>l(t,t=>{u[e]=t,g&=~(1<<e),i&&d()},()=>{g|=1<<e}));return i=!0,d(),function(){s(m),f()}}).subscribe}}(nt,t=>[].concat(...t.map((t,e)=>t.aliases.map(t=>[t,e]))).reduce((t,e)=>Object.assign(Object.assign({},t),{[e[0]]:e[1]}),{})),it=Z([]);class lt{constructor(t,e,n,s,o,i=-1){this.completed=-1,this.name=t,this.className=e,this.description=n,this.url=s,this.date=o,this.completed=i;let l=((t,e)=>{let n=0,s=t.length-1;for(;n<=s;){let o=Math.floor((n+s)/2);if(t[o]<e)n=o+1;else{if(!(t[o]>e))return o;s=o-1}}return n})(r(it).map(t=>t.date.getTime()),this.date.getTime());it.set([...r(it).slice(0,l),this,...r(it).slice(l)])}}let rt;const at=()=>{rt.client.init({clientId:"254795124493-hqrmlh9oqs85knd24o98c3644hmiqoc3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"],scope:["profile","https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.coursework.me.readonly"].join(" ")}).then(()=>{rt.auth2.getAuthInstance().isSignedIn.listen(ct),ct(rt.auth2.getAuthInstance().isSignedIn.get())},t=>{console.error(JSON.stringify(t,null,2))})},ct=t=>{if(t){let t=rt.auth2.getAuthInstance().currentUser.get().getBasicProfile();t.getName()!=r(tt)&&(tt.set(t.getName()),et.set(t.getImageUrl())),ut()}else tt.set("Signed out"),et.set("https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg")},ut=async()=>{const t=(await rt.client.classroom.courses.list()).result.courses.filter(t=>"ARCHIVED"!=t.courseState),e=(await Promise.all(t.map(async t=>(await rt.client.classroom.courses.courseWork.list({courseId:t.id})).result.courseWork))).filter(t=>null!=t),n=[].concat(...e);let s=await Promise.all(n.map(async t=>({assignment:t,submission:(await rt.client.classroom.courses.courseWork.studentSubmissions.list({courseId:t.courseId,courseWorkId:t.id})).result.studentSubmissions[0]})));return s.filter(t=>"CREATED"==t.submission.state).forEach(e=>new lt(e.assignment.title,t.find(t=>t.id==e.assignment.courseId).name,e.assignment.description,e.assignment.alternateLink.replace("classroom.google.com/","classroom.google.com/u/1/"),e.assignment.dueDate?new Date(Date.UTC(e.assignment.dueDate.year,e.assignment.dueDate.month-1,e.assignment.dueDate.day,e.assignment.dueTime.hours,e.assignment.dueTime.minutes||0)):new Date,"CREATED"!=e.submission.state?1:0)),console.log(`Loaded ${s.length} Google Classroom assignments from ${t.length} courses: `,s.map(t=>t.assignment.title)),s},gt=async()=>{const t=window.ICAL,e=await fetch(new Request("https://cors-anywhere.herokuapp.com/"+(t=>t.hostname+t.pathname).call(void 0,new URL(r(st))),{mode:"cors"}));if(!e.ok)return void console.error("HTTP error fetching calendar! status: "+e.status);const n=await e.text();let s=new t.Component(t.parse(n)).getAllSubcomponents("vevent");console.log(`Loaded ${s.length} Canvas assignments: `,s.map(t=>(t.getFirstPropertyValue("summary").match(/.+?(?= \()/)||t.getFirstPropertyValue("summary").match(/.+?(?= \[)/))[0]));s.filter(t=>(new Date).getTime()<=t.getFirstPropertyValue("dtstart").toJSDate().getTime()).forEach(t=>{new lt((t.getFirstPropertyValue("summary").match(/.+?(?= \()/)||t.getFirstPropertyValue("summary").match(/.+?(?= \[)/))[0],t.getFirstPropertyValue("summary").match(/\[([^\]]+)\]/)[0],t.getFirstPropertyValue("description"),(t=>{const e=new URL(t);return e.origin+"/courses/"+e.searchParams.get("include_contexts").replace("course_","")+"/assignments/"+e.hash.replace("#assignment_","")})(t.getFirstPropertyValue("url")),t.getFirstPropertyValue("dtstart").toJSDate(),(new Date).getTime()>t.getFirstPropertyValue("dtstart").toJSDate().getTime()?1:-1)})},ft=t=>new Promise((e,n)=>{let s=document.createElement("script");s.src=t,s.onload=e,s.onerror=n,document.head.appendChild(s)}),dt=()=>{it.set([]),ft("https://unpkg.com/ical.js@1.4.0/build/ical.js").then(gt),ft("https://apis.google.com/js/api:client.js").then(()=>{rt=window.gapi,rt.load("auth2",at)})};function mt(e){let n,o,i,l;return{c(){n=p("input"),b(n,"type","text"),b(n,"placeholder",o=e[1]||'Enter a command (press "/" to focus)'),b(n,"class","svelte-n62hyp"),x(n,"error",""!=e[1])},m(t,s){f(t,n,s),e[6](n),k(n,e[0]),i||(l=[$(n,"input",e[7]),$(n,"keydown",e[3])],i=!0)},p(t,[e]){2&e&&o!==(o=t[1]||'Enter a command (press "/" to focus)')&&b(n,"placeholder",o),1&e&&n.value!==t[0]&&k(n,t[0]),2&e&&x(n,"error",""!=t[1])},i:t,o:t,d(t){t&&d(n),e[6](null),i=!1,s(l)}}}function pt(t,e,n){let s,o,i;a(t,ot,t=>n(8,s=t)),a(t,nt,t=>n(9,o=t));let l,r="";const c=t=>{l&&(n(1,r=t),setTimeout(()=>n(1,r=""),3e3))};return[i,r,l,t=>{if("Enter"==t.key){t.preventDefault();let e=i.toLowerCase().split(" ");if(n(0,i=""),!e[0]||!e[1])return void c("Enter a command in the format [link] [alias].");if(Object.keys(s).includes(e[1])){let t=o[s[e[1]]].links.map(t=>t.name).indexOf(e[0]);-1!=t?window.open(o[s[e[1]]].links[t].url):c(`No link ${e[0]} for alias ${e[1]}.`)}else c(`No alias match for ${e[1]}.`)}},c,t=>{l&&l.focus()},function(t){E[t?"unshift":"push"](()=>{l=t,n(2,l)})},function(){i=this.value,n(0,i)}]}class ht extends Q{constructor(t){super(),K(this,t,pt,mt,i,{showError:4,trigger:5})}get showError(){return this.$$.ctx[4]}get trigger(){return this.$$.ctx[5]}}function vt(e){let n,s,o,i,l,r,a,c,u,m;return{c(){n=p("div"),s=p("div"),o=v(e[0]),i=y(),l=h("svg"),r=h("path"),a=h("path"),c=y(),u=p("div"),m=v(e[2]),b(s,"class","time svelte-113ieq"),b(r,"d","M0,0 H10"),b(r,"class","svelte-113ieq"),b(a,"d","M0,0 H10"),A(a,"--progress-offset",10-10*e[1]),b(a,"class","svelte-113ieq"),b(l,"class","progress svelte-113ieq"),b(l,"viewBox","0 0 10 0.5"),b(u,"class","date svelte-113ieq"),b(n,"class","time-module svelte-113ieq")},m(t,e){f(t,n,e),g(n,s),g(s,o),g(n,i),g(n,l),g(l,r),g(l,a),g(n,c),g(n,u),g(u,m)},p(t,[e]){1&e&&w(o,t[0]),2&e&&A(a,"--progress-offset",10-10*t[1]),4&e&&w(m,t[2])},i:t,o:t,d(t){t&&d(n)}}}function yt(t,e,n){let s,o,i,l=new Date;return q(()=>{const t=setInterval(()=>{n(3,l=new Date)},1e3);return()=>{clearInterval(t)}}),t.$$.update=()=>{8&t.$$.dirty&&n(0,s=(12==l.getHours()?12:l.getHours()%12).toString().padStart(2,"0")+l.getMinutes().toString().padStart(2,"0")),8&t.$$.dirty&&n(1,o=l.getMinutes()/60),8&t.$$.dirty&&n(2,i=(l.getMonth()+1).toString().padStart(2,"0")+l.getDate().toString().padStart(2,"0"))},[s,o,i]}class $t extends Q{constructor(t){super(),K(this,t,yt,vt,i,{})}}const{document:bt}=H;function wt(t,e,n){const s=t.slice();return s[27]=e[n],s[28]=e,s[29]=n,s}function kt(t,e,n){const s=t.slice();return s[30]=e[n],s[31]=e,s[32]=n,s}function At(t,e,n){const s=t.slice();return s[24]=e[n],s[25]=e,s[26]=n,s}function xt(t){let e,n,o,i,l;function r(){t[12].call(e,t[31],t[32])}function a(...e){return t[13](t[24],t[25],t[26],...e)}function c(...e){return t[14](t[24],t[32],t[25],t[26],...e)}return{c(){e=p("input"),o=p("input"),b(e,"class","alias-text svelte-i78tgy"),b(e,"size","8"),b(e,"placeholder","Fill out alias."),b(e,"type","text"),e.required=!0,b(o,"class","alias-del svelte-i78tgy"),b(o,"type","button"),o.value="✖"},m(s,g){f(s,e,g),k(e,t[30]),f(s,o,g),i||(l=[u(n=t[7].call(null,e)),$(e,"input",r),$(e,"change",a),$(o,"click",c)],i=!0)},p(n,s){t=n,32&s[0]&&e.value!==t[30]&&k(e,t[30])},d(t){t&&d(e),t&&d(o),i=!1,s(l)}}}function St(t){let e,n,o,i,l,r,a;function c(){t[16].call(e,t[28],t[29])}function g(...e){return t[17](t[24],t[25],t[26],...e)}function m(){t[18].call(o,t[28],t[29])}function h(...e){return t[19](t[24],t[25],t[26],...e)}function v(...e){return t[20](t[24],t[29],t[25],t[26],...e)}return{c(){e=p("input"),n=y(),o=p("input"),l=p("input"),b(e,"class","link-name svelte-i78tgy"),b(e,"size","8"),b(e,"placeholder","Fill out this link name."),b(e,"type","text"),e.required=!0,b(o,"class","link-url svelte-i78tgy"),b(o,"size","16"),b(o,"placeholder","Fill out this link URL."),b(o,"type","url"),o.required=!0,b(l,"class","link-del svelte-i78tgy"),b(l,"type","button"),l.value="✖"},m(s,d){f(s,e,d),k(e,t[27].name),f(s,n,d),f(s,o,d),k(o,t[27].url),f(s,l,d),r||(a=[$(e,"input",c),$(e,"change",g),u(i=t[7].call(null,o)),$(o,"input",m),$(o,"change",h),$(l,"click",v)],r=!0)},p(n,s){t=n,32&s[0]&&e.value!==t[27].name&&k(e,t[27].name),32&s[0]&&k(o,t[27].url)},d(t){t&&d(e),t&&d(n),t&&d(o),t&&d(l),r=!1,s(a)}}}function It(t){let e,n,o,i,l,r,a,c,u,h,w,k,A,x,S,I,q,C,E,T,_,D,P,L,N="Bookmark "+(t[26]+1),O=t[24].aliases,V=[];for(let e=0;e<O.length;e+=1)V[e]=xt(kt(t,O,e));function F(...e){return t[15](t[24],t[25],t[26],...e)}let j=t[24].links,B=[];for(let e=0;e<j.length;e+=1)B[e]=St(wt(t,j,e));function M(...e){return t[21](t[24],t[25],t[26],...e)}function R(...e){return t[22](t[26],...e)}return{c(){e=p("hr"),n=y(),o=p("h1"),i=v(N),l=y(),r=p("form"),a=p("h2"),a.textContent="Aliases",c=y();for(let t=0;t<V.length;t+=1)V[t].c();u=y(),h=p("input"),w=y(),k=p("h2"),k.textContent="Links",A=y();for(let t=0;t<B.length;t+=1)B[t].c();x=y(),S=p("input"),I=y(),q=p("input"),C=y(),E=p("input"),T=y(),_=p("input"),D=y(),b(e,"class","svelte-i78tgy"),b(o,"class","bookmark-title svelte-i78tgy"),b(a,"class","svelte-i78tgy"),b(h,"class","alias-add svelte-i78tgy"),b(h,"type","button"),h.value="Add Alias",b(k,"class","svelte-i78tgy"),b(S,"class","link-add svelte-i78tgy"),b(S,"type","button"),S.value="Add Link",b(q,"type","submit"),q.value="Validate",b(q,"class","svelte-i78tgy"),b(E,"class","bookmark-del svelte-i78tgy"),b(E,"type","button"),E.value="Delete Bookmark",b(_,"type","submit"),_.value="Validate",b(_,"class","svelte-i78tgy"),b(r,"class","bookmark-form svelte-i78tgy"),b(r,"action","#")},m(t,s){f(t,e,s),f(t,n,s),f(t,o,s),g(o,i),f(t,l,s),f(t,r,s),g(r,a),g(r,c);for(let t=0;t<V.length;t+=1)V[t].m(r,null);g(r,u),g(r,h),g(r,w),g(r,k),g(r,A);for(let t=0;t<B.length;t+=1)B[t].m(r,null);g(r,x),g(r,S),g(r,I),g(r,q),g(r,C),g(r,E),g(r,T),g(r,_),g(r,D),P||(L=[$(h,"click",F),$(S,"click",M),$(E,"click",R)],P=!0)},p(e,n){if(t=e,96&n[0]){let e;for(O=t[24].aliases,e=0;e<O.length;e+=1){const s=kt(t,O,e);V[e]?V[e].p(s,n):(V[e]=xt(s),V[e].c(),V[e].m(r,u))}for(;e<V.length;e+=1)V[e].d(1);V.length=O.length}if(32&n[0]){let e;for(j=t[24].links,e=0;e<j.length;e+=1){const s=wt(t,j,e);B[e]?B[e].p(s,n):(B[e]=St(s),B[e].c(),B[e].m(r,x))}for(;e<B.length;e+=1)B[e].d(1);B.length=j.length}},d(t){t&&d(e),t&&d(n),t&&d(o),t&&d(l),t&&d(r),m(V,t),m(B,t),P=!1,s(L)}}}function qt(e){let n,o,i,l,r,a,c,u,h,v,w,A,S,I,q,C,E,T,_,D,P,L,N,O=e[5],V=[];for(let t=0;t<O.length;t+=1)V[t]=It(At(e,O,t));return{c(){n=y(),o=p("div"),i=p("h1"),i.textContent="Accounts",l=y(),r=p("h2"),r.textContent="Canvas Calendar URL",a=y(),c=p("input"),u=y(),h=p("h2"),h.textContent="Google OAuth",v=y(),w=p("input"),S=y(),I=p("hr"),q=p("br"),C=p("br"),E=y(),T=p("h1"),T.textContent="Bookmarks",_=y(),D=p("input"),P=y();for(let t=0;t<V.length;t+=1)V[t].c();b(r,"class","svelte-i78tgy"),b(c,"type","url"),b(c,"size","30"),c.required=!0,b(c,"class","svelte-i78tgy"),b(h,"class","svelte-i78tgy"),b(w,"type","button"),w.value=A="Signed out"!=e[4]?"Sign out "+e[4]:"Sign in with Google",b(w,"class","svelte-i78tgy"),b(I,"class","svelte-i78tgy"),b(D,"type","button"),D.value="Add Bookmark",b(D,"class","svelte-i78tgy"),b(o,"class","wrapper svelte-i78tgy"),x(o,"visible",e[0])},m(t,s){f(t,n,s),f(t,o,s),g(o,i),g(o,l),g(o,r),g(o,a),g(o,c),k(c,e[3]),g(o,u),g(o,h),g(o,v),g(o,w),g(o,S),g(o,I),g(o,q),g(o,C),g(o,E),g(o,T),g(o,_),g(o,D),g(o,P);for(let t=0;t<V.length;t+=1)V[t].m(o,null);e[23](o),L||(N=[$(bt.body,"click",e[8]),$(c,"input",e[9]),$(c,"change",dt),$(w,"click",e[10]),$(D,"click",e[11])],L=!0)},p(t,e){if(8&e[0]&&k(c,t[3]),16&e[0]&&A!==(A="Signed out"!=t[4]?"Sign out "+t[4]:"Sign in with Google")&&(w.value=A),96&e[0]){let n;for(O=t[5],n=0;n<O.length;n+=1){const s=At(t,O,n);V[n]?V[n].p(s,e):(V[n]=It(s),V[n].c(),V[n].m(o,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=O.length}1&e[0]&&x(o,"visible",t[0])},i:t,o:t,d(t){t&&d(n),t&&d(o),m(V,t),e[23](null),L=!1,s(N)}}}function Ct(t,e,n){let s,o,i,l;a(t,st,t=>n(3,s=t)),a(t,tt,t=>n(4,o=t)),a(t,nt,t=>n(5,i=t)),a(t,ot,t=>n(6,l=t));let{visible:r=!1}=e,{wrapper:u}=e,{button:g}=e;return t.$$set=t=>{"visible"in t&&n(0,r=t.visible),"wrapper"in t&&n(1,u=t.wrapper),"button"in t&&n(2,g=t.button)},[r,u,g,s,o,i,l,t=>{t.focus()},t=>{setTimeout(()=>{r&&!u.contains(t.target)&&!g.contains(t.target)&&document.body.contains(t.target)&&n(0,r=!1)},100)},function(){s=this.value,st.set(s)},()=>{rt.auth2.getAuthInstance().isSignedIn.get()?rt.auth2.getAuthInstance().signOut():rt.auth2.getAuthInstance().signIn(),dt()},t=>{c(nt,i=[...i,{aliases:[""],links:[{name:"",url:""}]}],i),setTimeout(()=>t.target.parentElement.scrollTo({top:t.target.parentElement.scrollHeight,behavior:"smooth"}),50)},function(t,e){t[e]=this.value},(t,e,n,s)=>{s.target.setCustomValidity(Object.keys(l).includes(s.target.value)?"Alias must be unique.":""),c(nt,e[n]=t,i)},(t,e,n,s,o)=>{c(nt,n[s].aliases=[...t.aliases.slice(0,e),...t.aliases.slice(e+1)],i),c(nt,n[s]=t,i)},(t,e,n)=>{c(nt,e[n].aliases=[...t.aliases,""],i)},function(t,e){t[e].name=this.value},(t,e,n)=>{c(nt,e[n]=t,i)},function(t,e){t[e].url=this.value},(t,e,n)=>{c(nt,e[n]=t,i)},(t,e,n,s)=>{c(nt,n[s].links=[...t.links.slice(0,e),...t.links.slice(e+1)],i),c(nt,n[s]=t,i)},(t,e,n)=>{c(nt,e[n].links=[...t.links,{name:"",url:""}],i)},t=>c(nt,i=[...i.slice(0,t),...i.slice(t+1)],i),function(t){E[t?"unshift":"push"](()=>{u=t,n(1,u)})}]}class Et extends Q{constructor(t){super(),K(this,t,Ct,qt,i,{visible:0,wrapper:1,button:2},[-1,-1])}}function Tt(e){let n,s,o,i,l,r,a,c,u,m,k,A,S,I,q,C,E,T=e[0].name+"",_=e[0].className+"";return{c(){n=p("div"),s=p("div"),o=h("svg"),i=h("path"),l=h("path"),a=y(),c=p("a"),u=v(T),k=y(),A=p("small"),A.textContent=""+e[2],S=y(),I=p("div"),q=v(_),b(i,"d","M 0.5,1 H 1.5"),b(i,"class","svelte-vq00io"),b(l,"d","M 1,0.5 V 1.5"),b(l,"class","svelte-vq00io"),b(o,"viewBox","0 0 2 2"),b(o,"class","svelte-vq00io"),b(s,"class","complete svelte-vq00io"),b(s,"data-completed",r=e[0].completed),b(c,"href",m=e[0].url),b(c,"target","_blank"),b(c,"class","svelte-vq00io"),b(A,"class","svelte-vq00io"),b(I,"class","info svelte-vq00io"),b(n,"class","wrapper svelte-vq00io"),x(n,"expanded",e[1])},m(t,r){f(t,n,r),g(n,s),g(s,o),g(o,i),g(o,l),g(n,a),g(n,c),g(c,u),g(n,k),g(n,A),g(n,S),g(n,I),g(I,q),C||(E=$(s,"click",e[3]),C=!0)},p(t,[e]){1&e&&r!==(r=t[0].completed)&&b(s,"data-completed",r),1&e&&T!==(T=t[0].name+"")&&w(u,T),1&e&&m!==(m=t[0].url)&&b(c,"href",m),1&e&&_!==(_=t[0].className+"")&&w(q,_),2&e&&x(n,"expanded",t[1])},i:t,o:t,d(t){t&&d(n),C=!1,E()}}}function _t(t,e,n){let{item:s}=e,o=s.date.getTime()-(new Date).getTime()>864e5?s.date.toString().split(" ")[0]:s.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),i=!1;return t.$$set=t=>{"item"in t&&n(0,s=t.item)},[s,i,o,()=>n(1,i=!i)]}class Dt extends Q{constructor(t){super(),K(this,t,_t,Tt,i,{item:0})}}function Pt(t,e,n){const s=t.slice();return s[6]=e[n],s[7]=e,s[8]=n,s}function Lt(t){let e,n,s;function o(e){t[4].call(null,e,t[6],t[7],t[8])}let i={};return void 0!==t[6]&&(i.item=t[6]),e=new Dt({props:i}),E.push(()=>J(e,"item",o)),{c(){z(e.$$.fragment)},m(t,n){W(e,t,n),s=!0},p(s,o){t=s;const i={};!n&&8&o&&(n=!0,i.item=t[6],N(()=>n=!1)),e.$set(i)},i(t){s||(R(e.$$.fragment,t),s=!0)},o(t){U(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function Nt(t){let e,n,o,i,l,r=t[3],a=[];for(let e=0;e<r.length;e+=1)a[e]=Lt(Pt(t,r,e));const c=t=>U(a[t],1,1,()=>{a[t]=null});return{c(){e=p("div"),n=p("div"),o=y(),i=p("div");for(let t=0;t<a.length;t+=1)a[t].c();b(n,"class","mask svelte-ro9xsf"),b(i,"class","content svelte-ro9xsf"),b(e,"class","wrapper svelte-ro9xsf"),A(e,"--items-length","'"+(t[3].length>0?t[3].length+" ":"")+"'"),x(e,"animated",t[1]),x(e,"loading",t[2])},m(s,r){f(s,e,r),g(e,n),g(e,o),g(e,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null);t[5](e),l=!0},p(t,[n]){if(8&n){let e;for(r=t[3],e=0;e<r.length;e+=1){const s=Pt(t,r,e);a[e]?(a[e].p(s,n),R(a[e],1)):(a[e]=Lt(s),a[e].c(),R(a[e],1),a[e].m(i,null))}for(M={r:0,c:[],p:M},e=r.length;e<a.length;e+=1)c(e);M.r||s(M.c),M=M.p}(!l||8&n)&&A(e,"--items-length","'"+(t[3].length>0?t[3].length+" ":"")+"'"),2&n&&x(e,"animated",t[1]),4&n&&x(e,"loading",t[2])},i(t){if(!l){for(let t=0;t<r.length;t+=1)R(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)U(a[t]);l=!1},d(n){n&&d(e),m(a,n),t[5](null)}}}function Ot(t,e,n){let s,o;a(t,it,t=>n(3,s=t));let i=!1,l=!1;return t.$$.update=()=>{9&t.$$.dirty&&s.length>0&&o&&(n(1,i=n(2,l=!0)),n(0,o.style.height=o.querySelector(".content").getBoundingClientRect().height+"px",o),setTimeout(()=>n(2,l=!1),800))},[o,i,l,s,function(t,e,n,o){n[o]=t,it.set(s)},function(t){E[t?"unshift":"push"](()=>{o=t,n(0,o),n(3,s)})}]}class Vt extends Q{constructor(t){super(),K(this,t,Ot,Nt,i,{})}}function Ft(t){let e,n,o,i,l,r,a,c,u,g,m,h,v,w,k,x,S,I,q,C;function T(e){t[8].call(null,e)}function _(e){t[9].call(null,e)}let D={};function P(e){t[10].call(null,e)}void 0!==t[0]&&(D.visible=t[0]),void 0!==t[1]&&(D.button=t[1]),i=new Et({props:D}),E.push(()=>J(i,"visible",T)),E.push(()=>J(i,"button",_));let L={};return void 0!==t[2]&&(L.trigger=t[2]),g=new ht({props:L}),E.push(()=>J(g,"trigger",P)),v=new $t({}),k=new Vt({}),{c(){e=p("div"),n=y(),o=y(),z(i.$$.fragment),a=y(),c=p("br"),u=y(),z(g.$$.fragment),h=y(),z(v.$$.fragment),w=y(),z(k.$$.fragment),x=y(),S=p("br"),b(e,"class","menu-button svelte-1pw17nr"),A(e,"--profile-icon","url("+t[3]+")"),b(e,"alt",t[4])},m(s,l){f(s,e,l),t[6](e),f(s,n,l),f(s,o,l),W(i,s,l),f(s,a,l),f(s,c,l),f(s,u,l),W(g,s,l),f(s,h,l),W(v,s,l),f(s,w,l),W(k,s,l),f(s,x,l),f(s,S,l),I=!0,q||(C=[$(e,"click",t[7]),$(document.body,"keydown",t[5])],q=!0)},p(t,[n]){(!I||8&n)&&A(e,"--profile-icon","url("+t[3]+")"),(!I||16&n)&&b(e,"alt",t[4]);const s={};!l&&1&n&&(l=!0,s.visible=t[0],N(()=>l=!1)),!r&&2&n&&(r=!0,s.button=t[1],N(()=>r=!1)),i.$set(s);const o={};!m&&4&n&&(m=!0,o.trigger=t[2],N(()=>m=!1)),g.$set(o)},i(t){I||(R(i.$$.fragment,t),R(g.$$.fragment,t),R(v.$$.fragment,t),R(k.$$.fragment,t),I=!0)},o(t){U(i.$$.fragment,t),U(g.$$.fragment,t),U(v.$$.fragment,t),U(k.$$.fragment,t),I=!1},d(l){l&&d(e),t[6](null),l&&d(n),l&&d(o),G(i,l),l&&d(a),l&&d(c),l&&d(u),G(g,l),l&&d(h),G(v,l),l&&d(w),G(k,l),l&&d(x),l&&d(S),q=!1,s(C)}}}function jt(t,e,n){let s,o,i,l,r;a(t,et,t=>n(3,s=t)),a(t,tt,t=>n(4,o=t)),q(dt);return[i,l,r,s,o,t=>{"/"==t.key&&r&&!i&&(t.preventDefault(),r())},function(t){E[t?"unshift":"push"](()=>{l=t,n(1,l)})},()=>n(0,i=!i),function(t){i=t,n(0,i)},function(t){l=t,n(1,l)},function(t){r=t,n(2,r)}]}return new class extends Q{constructor(t){super(),K(this,t,jt,Ft,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
